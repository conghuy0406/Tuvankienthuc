@model Tuvankienthuc.Models.KienThucSinhVien

@{
    ViewData["Title"] = "Chỉnh sửa kiến thức sinh viên";
}

<div class="container pt-5 mt-3" style="max-width:720px;">

    <div class="card border-0 shadow-sm rounded-4">
        <div class="card-header bg-primary text-white py-2 rounded-top-4">
            <strong>✏️ Chỉnh sửa kiến thức sinh viên</strong>
        </div>

        <div class="card-body p-3">

            <form asp-action="Edit" method="post">

                <!-- KHÓA CHÍNH -->
                <input type="hidden" asp-for="MaSV" />
                <input type="hidden" asp-for="MaKT" />

                <!-- SINH VIÊN -->
                <div class="mb-2">
                    <label class="form-label small fw-semibold">Sinh viên</label>
                    <select class="form-select form-select-sm" disabled>
                        @foreach (var sv in ViewBag.MaSV as SelectList)
                        {
                            <option selected="@sv.Selected">@sv.Text</option>
                        }
                    </select>
                </div>

                <!-- KIẾN THỨC -->
                <div class="mb-2">
                    <label class="form-label small fw-semibold">Kiến thức</label>
                    <select class="form-select form-select-sm" disabled>
                        @foreach (var kt in ViewBag.MaKT as SelectList)
                        {
                            <option selected="@kt.Selected">@kt.Text</option>
                        }
                    </select>
                </div>

                <!-- TRẠNG THÁI -->
                <div class="mb-2">
                    <label asp-for="TrangThai" class="form-label small fw-semibold">
                        Trạng thái học
                    </label>
                    <select asp-for="TrangThai" class="form-select form-select-sm">
                        <option value="0">Chưa nắm vững</option>
                        <option value="1">Hiểu cơ bản</option>
                        <option value="2">Đã nắm vững</option>
                    </select>
                    <span asp-validation-for="TrangThai" class="text-danger small"></span>
                </div>

                <!-- LẦN HỌC CUỐI -->
                <div class="mb-3">
                    <label class="form-label small fw-semibold">
                        Lần học gần nhất
                    </label>
                    <input class="form-control form-control-sm" readonly
                           value="@Model.LanHocCuoi?.ToString("dd/MM/yyyy HH:mm")" />
                </div>

                <!-- ACTION -->
                <div class="d-flex justify-content-end gap-2">
                    <a asp-action="Index" class="btn btn-outline-secondary btn-sm px-3">
                        ← Quay lại
                    </a>
                    <button type="submit" class="btn btn-primary btn-sm px-4">
                        💾 Cập nhật
                    </button>
                </div>

            </form>

        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
